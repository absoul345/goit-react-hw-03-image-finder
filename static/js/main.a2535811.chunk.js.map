{"version":3,"sources":["components/loader/Loader.module.css","components/button/Button.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/loader/Loader.js","components/searchbar/Searchbar.js","servicesApi/pixabay-api.js","components/modal/Modal.js","App.js","index.js"],"names":["module","exports","Button","fetchPhotos","onClick","className","prototype","PropTypes","func","isRequired","ImageGalleryItem","webformatURL","tags","toggleModal","largeImageURL","src","alt","string","ImageGallery","photos","map","id","array","Loader","styles","loader","type","color","height","width","timeout","Component","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","onChange","autoComplete","autoFocus","placeholder","fatchPhotos","a","searchQuery","currentPage","axios","get","then","respone","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","url","tag","App","isLoading","error","showModal","onChangeQuaery","options","pixabayApi","prevState","console","log","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","prevProps","shouldRenderLoadMoreBtn","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a2535811.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__vdeI0\"};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ fetchPhotos }) => {\r\n  return (\r\n    <>\r\n      <button onClick={fetchPhotos} className=\"Button\">\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nButton.prototype = {\r\n  fetchPhotos: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  tags,\r\n  toggleModal,\r\n  largeImageURL,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className=\"ImageGalleryItem-image\"\r\n          onClick={() => toggleModal(largeImageURL, tags)}\r\n        />\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGalleryItem.prototype = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport ImageGalleryItem from './imageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ photos, toggleModal }) => {\r\n  return (\r\n    <div>\r\n      <ul className=\"ImageGallery\">\r\n        {photos.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            webformatURL={webformatURL}\r\n            tags={tags}\r\n            toggleModal={toggleModal}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.prototype = {\r\n  photos: PropTypes.array.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport LoadingSpinn from 'react-loader-spinner';\r\nimport styles from './Loader.module.css';\r\n\r\nexport class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.loader}>\r\n        <LoadingSpinn\r\n          type=\"Oval\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          timeout={3000}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import axios from 'axios';\r\n\r\nconst fatchPhotos = async ({ searchQuery, currentPage }) => {\r\n  const API_KEY = '22382402-6e64c7211e25b83073e42c977';\r\n  const BASE_URL = 'https://pixabay.com/api/';\r\n  return await axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(respone => respone.data.hits);\r\n};\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { fatchPhotos };\r\n","/* eslint-disable react/no-typos */\r\nimport React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div>\r\n        <div className=\"Overlay\" onClick={this.handleOverlayClick}>\r\n          <div className=\"Modal\">\r\n            <img src={this.props.url} alt={this.props.tag} />\r\n          </div>\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  tag: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport Button from './components/button/Button';\nimport ImageGallery from './components/imageGallery/ImageGallery';\nimport Loader from './components/loader/Loader';\nimport Searchbar from './components/searchbar/Searchbar';\nimport pixabayApi from './servicesApi/pixabay-api';\nimport Modal from './components/modal/Modal';\n\nexport class App extends Component {\n  state = {\n    photos: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchPhotos();\n    }\n  }\n\n  onChangeQuaery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      photos: [],\n      error: null,\n    });\n  };\n\n  fetchPhotos = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    pixabayApi\n      .fatchPhotos(options)\n      .then(\n        hits => {\n          this.setState(prevState => ({\n            photos: [...prevState.photos, ...hits],\n            currentPage: prevState.currentPage + 1,\n          }));\n          console.log(hits);\n        },\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        }),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  toggleModal = (url, tag) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImageURL: url,\n      tag: tag,\n    }));\n  };\n\n  render() {\n    const { photos, isLoading, error, showModal, largeImageURL, tag } =\n      this.state;\n    const shouldRenderLoadMoreBtn = photos.length > 0 && !isLoading;\n    return (\n      <div className=\"App\">\n        {showModal && (\n          <Modal onClose={this.toggleModal} url={largeImageURL} tag={tag} />\n        )}\n        {error && <h1>'Error!!!'</h1>}\n\n        <Searchbar onSubmit={this.onChangeQuaery} />\n\n        {isLoading && <Loader />}\n\n        <ImageGallery photos={photos} toggleModal={this.toggleModal} />\n\n        {shouldRenderLoadMoreBtn && <Button fetchPhotos={this.fetchPhotos} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}